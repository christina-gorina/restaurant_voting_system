/*C6*/SET SCHEMA PUBLIC
set schema PUBLIC
/*C7*/SET SCHEMA PUBLIC
DISCONNECT
/*C6*/drop table USERS cascade
/*C8*/SET SCHEMA PUBLIC
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
DISCONNECT
/*C9*/SET SCHEMA PUBLIC
DISCONNECT
/*C10*/SET SCHEMA PUBLIC
DISCONNECT
/*C11*/SET SCHEMA PUBLIC
set schema PUBLIC
CREATE TABLE users\u000d\u000a(\u000d\u000a    id   INTEGER GENERATED BY DEFAULT AS SEQUENCE GLOBAL_SEQ PRIMARY KEY,\u000d\u000a    name VARCHAR(255) NOT NULL,\u000d\u000a    email VARCHAR(255) NOT NULL,\u000d\u000a    password VARCHAR(255) NOT NULL,\u000d\u000a    registered       TIMESTAMP DEFAULT now() NOT NULL,\u000d\u000a    enabled          BOOLEAN   DEFAULT TRUE  NOT NULL\u000d\u000a)
/*C12*/SET SCHEMA PUBLIC
DISCONNECT
/*C11*/set schema PUBLIC
/*C14*/SET SCHEMA PUBLIC
DISCONNECT
/*C13*/SET SCHEMA PUBLIC
DISCONNECT
/*C11*/INSERT INTO USERS VALUES(100036,'Admin','admin@gmail.com','admpassword','2020-09-26 12:18:18.776000',TRUE)
INSERT INTO USERS VALUES(100037,'User1','user1@gmail.com','password','2020-09-26 12:18:18.776000',TRUE)
INSERT INTO USERS VALUES(100038,'User2','user2@gmail.com','password','2020-09-26 12:18:18.776000',TRUE)
INSERT INTO USERS VALUES(100039,'User3','user3@gmail.com','password','2020-09-26 12:18:18.776000',TRUE)
INSERT INTO USERS VALUES(100040,'User4','user4@gmail.com','password','2020-09-26 12:18:18.776000',TRUE)
INSERT INTO USERS VALUES(100041,'User5','user5@gmail.com','password','2020-09-26 12:18:18.776000',TRUE)
INSERT INTO USERS VALUES(100042,'User6','user6@gmail.com','password','2020-09-26 12:18:18.776000',TRUE)
INSERT INTO USERS VALUES(100043,'User7','user7@gmail.com','password','2020-09-26 12:18:18.776000',TRUE)
INSERT INTO USERS VALUES(100044,'User8','user8@gmail.com','password','2020-09-26 12:18:18.776000',TRUE)
INSERT INTO USERS VALUES(100045,'User9','user9@gmail.com','password','2020-09-26 12:18:18.776000',TRUE)
INSERT INTO USERS VALUES(100046,'User10','user10@gmail.com','password','2020-09-26 12:18:18.776000',TRUE)
ALTER SEQUENCE PUBLIC.GLOBAL_SEQ RESTART WITH 100047
COMMIT
set schema PUBLIC
/*C15*/SET SCHEMA PUBLIC
DISCONNECT
/*C6*/drop table DISHES cascade
drop table USERS cascade
drop table USER_ROLES cascade
drop table VOTES cascade
drop table RESTAURANTS cascade
/*C18*/SET SCHEMA PUBLIC
DISCONNECT
/*C11*/DROP TABLE user_roles IF EXISTS
DROP TABLE dishes IF EXISTS
DROP TABLE restaurants IF EXISTS CASCADE
DROP TABLE votes IF EXISTS CASCADE
DROP TABLE users IF EXISTS
DROP SEQUENCE global_seq IF EXISTS CASCADE
CREATE SEQUENCE GLOBAL_SEQ AS INTEGER START WITH 100000
CREATE TABLE users\u000d\u000a(\u000d\u000a    id   INTEGER GENERATED BY DEFAULT AS SEQUENCE GLOBAL_SEQ PRIMARY KEY,\u000d\u000a    name VARCHAR(255) NOT NULL,\u000d\u000a    email VARCHAR(255) NOT NULL,\u000d\u000a    password VARCHAR(255) NOT NULL,\u000d\u000a    registered       TIMESTAMP DEFAULT now() NOT NULL,\u000d\u000a    enabled          BOOLEAN   DEFAULT TRUE  NOT NULL\u000d\u000a)
CREATE UNIQUE INDEX users_unique_email_idx\u000d\u000a    ON users (email)
CREATE TABLE user_roles\u000d\u000a(\u000d\u000a    user_id INTEGER NOT NULL,\u000d\u000a    role    VARCHAR(255),\u000d\u000a    CONSTRAINT user_roles_idx UNIQUE (user_id, role),\u000d\u000a    FOREIGN KEY (user_id) REFERENCES users (id) ON DELETE CASCADE\u000d\u000a)
CREATE TABLE restaurants\u000d\u000a(\u000d\u000a    id    INTEGER GENERATED BY DEFAULT AS SEQUENCE GLOBAL_SEQ PRIMARY KEY,\u000d\u000a    name  VARCHAR(255) NOT NULL\u000d\u000a)
CREATE TABLE dishes\u000d\u000a(\u000d\u000a    id         INTEGER GENERATED BY DEFAULT AS SEQUENCE GLOBAL_SEQ PRIMARY KEY,\u000d\u000a    name       VARCHAR(255) NOT NULL,\u000d\u000a    price      INTEGER      NOT NULL,\u000d\u000a    date       DATE         NOT NULL,\u000d\u000a    restaurant INTEGER      NOT NULL,\u000d\u000a    FOREIGN KEY (restaurant) REFERENCES restaurants (id) ON DELETE CASCADE\u000d\u000a)
CREATE TABLE votes(\u000d\u000a    id         INTEGER GENERATED BY DEFAULT AS SEQUENCE GLOBAL_SEQ PRIMARY KEY,\u000d\u000a    restaurant INTEGER NOT NULL,\u000d\u000a    user INTEGER NOT NULL,\u000d\u000a    date_time TIMESTAMP NOT NULL,\u000d\u000a    FOREIGN KEY (restaurant) REFERENCES restaurants (id) ON DELETE CASCADE,\u000d\u000a    FOREIGN KEY (user) REFERENCES users (id) ON DELETE CASCADE\u000d\u000a)
CREATE UNIQUE INDEX user_restaurant_unique_vote_idx\u000d\u000a    ON votes (restaurant, user)
/*C19*/SET SCHEMA PUBLIC
DISCONNECT
/*C20*/SET SCHEMA PUBLIC
DISCONNECT
/*C11*/ALTER SEQUENCE global_seq RESTART WITH 100000
INSERT INTO USERS VALUES(100000,'Admin','admin@gmail.com','admpassword','2020-09-26 12:19:37.754000',TRUE)
INSERT INTO USERS VALUES(100001,'User1','user1@gmail.com','password','2020-09-26 12:19:37.754000',TRUE)
INSERT INTO USERS VALUES(100002,'User2','user2@gmail.com','password','2020-09-26 12:19:37.754000',TRUE)
INSERT INTO USERS VALUES(100003,'User3','user3@gmail.com','password','2020-09-26 12:19:37.754000',TRUE)
INSERT INTO USERS VALUES(100004,'User4','user4@gmail.com','password','2020-09-26 12:19:37.754000',TRUE)
INSERT INTO USERS VALUES(100005,'User5','user5@gmail.com','password','2020-09-26 12:19:37.754000',TRUE)
INSERT INTO USERS VALUES(100006,'User6','user6@gmail.com','password','2020-09-26 12:19:37.754000',TRUE)
INSERT INTO USERS VALUES(100007,'User7','user7@gmail.com','password','2020-09-26 12:19:37.754000',TRUE)
INSERT INTO USERS VALUES(100008,'User8','user8@gmail.com','password','2020-09-26 12:19:37.754000',TRUE)
INSERT INTO USERS VALUES(100009,'User9','user9@gmail.com','password','2020-09-26 12:19:37.754000',TRUE)
INSERT INTO USERS VALUES(100010,'User10','user10@gmail.com','password','2020-09-26 12:19:37.754000',TRUE)
ALTER SEQUENCE PUBLIC.GLOBAL_SEQ RESTART WITH 100011
COMMIT
INSERT INTO USER_ROLES VALUES(100000,'ADMIN')
INSERT INTO USER_ROLES VALUES(100001,'USER')
INSERT INTO USER_ROLES VALUES(100002,'USER')
INSERT INTO USER_ROLES VALUES(100003,'USER')
INSERT INTO USER_ROLES VALUES(100004,'USER')
INSERT INTO USER_ROLES VALUES(100005,'USER')
INSERT INTO USER_ROLES VALUES(100006,'USER')
INSERT INTO USER_ROLES VALUES(100007,'USER')
INSERT INTO USER_ROLES VALUES(100008,'USER')
INSERT INTO USER_ROLES VALUES(100009,'USER')
INSERT INTO USER_ROLES VALUES(100010,'USER')
COMMIT
INSERT INTO RESTAURANTS VALUES(100011,'\u0418\u0442\u0430\u043b\u044c\u044f\u043d\u0441\u043a\u0438\u0439 \u0440\u0435\u0441\u0442\u043e\u0440\u0430\u043d')
INSERT INTO RESTAURANTS VALUES(100012,'\u0421\u0443\u0448\u0438 \u0431\u0430\u0440')
INSERT INTO RESTAURANTS VALUES(100013,'\u041a\u0438\u0442\u0430\u0439\u0441\u043a\u0438\u0439 \u0440\u0435\u0441\u0442\u043e\u0440\u0430\u043d')
ALTER SEQUENCE PUBLIC.GLOBAL_SEQ RESTART WITH 100014
COMMIT
INSERT INTO DISHES VALUES(100014,'\u041f\u0430\u0441\u0442\u0430',890,'2020-07-05',100011)
INSERT INTO DISHES VALUES(100015,'\u0421\u043f\u0430\u0433\u0435\u0442\u0442\u0438',486,'2020-07-03',100011)
INSERT INTO DISHES VALUES(100016,'\u041f\u0438\u0446\u0446\u0430',562,'2020-07-04',100011)
INSERT INTO DISHES VALUES(100017,'\u041b\u0430\u0437\u0430\u043d\u044c\u044f',740,'2020-07-03',100011)
INSERT INTO DISHES VALUES(100018,'\u0420\u043e\u043b\u043b\u044b \u043a\u0430\u043b\u0438\u0444\u043e\u0440\u043d\u0438\u044f',430,'2020-07-05',100012)
INSERT INTO DISHES VALUES(100019,'\u0421\u0443\u0448\u0438 \u0441 \u0442\u0443\u043d\u0446\u043e\u043c',490,'2020-07-05',100012)
INSERT INTO DISHES VALUES(100020,'\u0421\u0430\u0448\u0438\u043c\u0438',640,'2020-07-07',100012)
INSERT INTO DISHES VALUES(100021,'\u0421\u044f\u043a\u0435',620,'2020-07-05',100012)
INSERT INTO DISHES VALUES(100022,'\u041b\u0430\u043f\u0448\u0430',730,'2020-07-05',100013)
INSERT INTO DISHES VALUES(100023,'\u0423\u0442\u0440\u0430 \u043f\u043e \u043f\u0435\u043a\u0438\u043d\u0441\u043a\u0438',1500,'2020-07-04',100013)
INSERT INTO DISHES VALUES(100024,'\u0414\u0438\u043c\u0441\u0430\u043c\u044b',350,'2020-07-04',100013)
INSERT INTO DISHES VALUES(100025,'\u041a\u0438\u0442\u0430\u0439\u0441\u043a\u0438\u0439 \u0441\u0443\u043f',520,'2020-07-05',100013)
ALTER SEQUENCE PUBLIC.GLOBAL_SEQ RESTART WITH 100026
COMMIT
INSERT INTO VOTES VALUES(100026,100011,100001,'2020-07-03 10:00:00.000000')
INSERT INTO VOTES VALUES(100027,100012,100003,'2020-07-05 10:30:00.000000')
INSERT INTO VOTES VALUES(100028,100013,100002,'2020-07-04 10:25:00.000000')
INSERT INTO VOTES VALUES(100029,100012,100006,'2020-07-05 12:20:00.000000')
INSERT INTO VOTES VALUES(100030,100011,100005,'2020-07-03 12:45:00.000000')
INSERT INTO VOTES VALUES(100031,100012,100004,'2020-07-05 13:17:00.000000')
INSERT INTO VOTES VALUES(100032,100012,100010,'2020-07-05 14:10:00.000000')
INSERT INTO VOTES VALUES(100033,100013,100007,'2020-07-04 13:20:00.000000')
INSERT INTO VOTES VALUES(100034,100012,100008,'2020-07-04 14:30:00.000000')
INSERT INTO VOTES VALUES(100035,100013,100003,'2020-07-04 13:27:00.000000')
ALTER SEQUENCE PUBLIC.GLOBAL_SEQ RESTART WITH 100036
COMMIT
/*C21*/SET SCHEMA PUBLIC
DISCONNECT
/*C17*/SET SCHEMA PUBLIC
DISCONNECT
/*C23*/SET SCHEMA PUBLIC
DISCONNECT
/*C16*/SET SCHEMA PUBLIC
DISCONNECT
/*C22*/SET SCHEMA PUBLIC
DISCONNECT
